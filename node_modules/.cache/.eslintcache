[{"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\AddAlbum.js":"1","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\Main.js":"2","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\EditAlbum.js":"3","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\login.js":"4","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\App.js":"5","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\globalVars.js":"6","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\index.js":"7"},{"size":11158,"mtime":1679155250536,"results":"8","hashOfConfig":"9"},{"size":17722,"mtime":1679158148224,"results":"10","hashOfConfig":"9"},{"size":12010,"mtime":1679159686640,"results":"11","hashOfConfig":"9"},{"size":2384,"mtime":1679154743254,"results":"12","hashOfConfig":"9"},{"size":498,"mtime":1676945273651,"results":"13","hashOfConfig":"9"},{"size":132,"mtime":1679159628502,"results":"14","hashOfConfig":"9"},{"size":299,"mtime":1676945256682,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"huijh6",{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\AddAlbum.js",["38"],[],"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\Main.js",["39","40","41","42","43"],[],"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\EditAlbum.js",["44","45"],[],"import React from 'react'\r\nimport Axios from 'axios'\r\nimport { useState, useEffect } from 'react'\r\nimport { Link, useNavigate, useParams } from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUpload } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\nimport apiBasePath from './globalVars'\r\n\r\nfunction EditAlbum() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const personid = localStorage.getItem('personid')\r\n\r\n    const logout = personid => {if(personid === 'null') {navigate('/login')}}\r\n    useEffect(() => logout(personid),[])\r\n\r\n    const { id } = useParams()\r\n    const [formData, setFormData] = useState(\r\n        {\r\n            artist: '',\r\n            title: '',\r\n            genre: '',\r\n            recordLabel: '',\r\n            releaseDate: '',\r\n            coverImage: '',\r\n            coverImageName: ''\r\n        }\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n            Axios.get(apiBasePath + '/getalbum/' + id)\r\n                .then(\r\n                    res => {\r\n                        setFormData(\r\n                            {\r\n                                artist: res.data[0].artist,\r\n                                title: res.data[0].title,\r\n                                genre: res.data[0].genre,\r\n                                recordLabel: res.data[0].recordlabel,\r\n                                releaseDate: (res.data[0].releasedate) ? res.data[0].releasedate.substring(0, 10) : '',\r\n                                coverImageName: 'Current File'\r\n                            }\r\n                        )\r\n                    }\r\n                )\r\n        },\r\n        []\r\n    )\r\n\r\n    const handleChange = event => {\r\n        setFormData(\r\n            {\r\n                ...formData, [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleImageChange = event => {\r\n        if (\r\n            event.target.files[0].type.split('/')[1] !== 'jpeg' &&\r\n            event.target.files[0].type.split('/')[1] !== 'jpg' &&\r\n            event.target.files[0].type.split('/')[1] !== 'png'\r\n        ) {\r\n            window.alert('Album cover images must be .jpeg, .jpg, or .png')\r\n        }\r\n        else {\r\n            setFormData(\r\n                {\r\n                    ...formData,\r\n                    coverImage: event.target.files[0],\r\n                    coverImageName: event.target.files[0].name\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault()\r\n        let formDataObj = new FormData()\r\n        formDataObj.append('albumid',id)\r\n        formDataObj.append('artist',formData.artist)\r\n        formDataObj.append('title',formData.title)\r\n        formDataObj.append('genre',formData.genre)\r\n        formDataObj.append('recordLabel',formData.recordLabel)\r\n        formDataObj.append('releaseDate',formData.releaseDate)\r\n        if (formData.coverImageName !== 'Current File') {\r\n            formDataObj.append('coverImage',formData.coverImage)\r\n        }\r\n        axios.post(\r\n            apiBasePath + '/editalbum',\r\n            formDataObj,\r\n            {\r\n                headers: {\r\n                    \"Content-Type\": 'multipart/form-data'\r\n                }\r\n            }\r\n        )\r\n            .then(\r\n                res => {\r\n                    console.log(res)\r\n                    var confirm = window.confirm('Album updated')\r\n                    confirm ?\r\n                        navigate('/')\r\n                    : void (0)\r\n                }\r\n            )\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <section className=\"section has-background-link-dark\">\r\n                <div className=\"columns is-centered\">\r\n                    <div className=\"column\">\r\n                        <Link to='/'>\r\n                            <button className='button is-white'>Back to Home</button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"column is-half has-text-centered\">\r\n                        <h1 className=\"title is-1 has-text-white\">Albums of the Year</h1>\r\n                    </div>\r\n                    <div className=\"column\"></div>\r\n                </div>\r\n            </section>\r\n            <div className=\"container is-max-desktop\">\r\n                <div className=\"box\">\r\n                    <div className=\"content has-text-centered\">\r\n                        <h1>Edit Album</h1>\r\n                    </div>\r\n                    <form className=\"form\" encType=\"multipart/form-data\" onSubmit={handleSubmit}>\r\n                        <div className=\"field is-horizontal\">\r\n                            <div className=\"field-label is-normal\">\r\n                                <label className=\"label\">Artist:</label>\r\n                            </div>\r\n                            <div className=\"field-body\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"control\">\r\n                                        <input\r\n                                            className=\"input\"\r\n                                            type=\"text\"\r\n                                            name=\"artist\"\r\n                                            value={formData.artist}\r\n                                            onChange={handleChange}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field is-horizontal\">\r\n                            <div className=\"field-label is-normal\">\r\n                                <label className=\"label\">Title:</label>\r\n                            </div>\r\n                            <div className=\"field-body\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"control\">\r\n                                        <input\r\n                                            className=\"input\"\r\n                                            type=\"text\"\r\n                                            name=\"title\"\r\n                                            value={formData.title}\r\n                                            onChange={handleChange}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field is-horizontal\">\r\n                            <div className=\"field-label is-normal\">\r\n                                <label className=\"label\">Genre:</label>\r\n                            </div>\r\n                            <div className=\"field-body\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"control\">\r\n                                        <input\r\n                                            className=\"input\"\r\n                                            type=\"text\"\r\n                                            name=\"genre\"\r\n                                            value={formData.genre}\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field is-horizontal\">\r\n                            <div className=\"field-label is-normal\">\r\n                                <label className=\"label\">Record Label:</label>\r\n                            </div>\r\n                            <div className=\"field-body\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"control\">\r\n                                        <input\r\n                                            className=\"input\"\r\n                                            type=\"text\"\r\n                                            name=\"recordLabel\"\r\n                                            value={formData.recordLabel}\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field is-horizontal\">\r\n                            <div className=\"field-label is-normal\">\r\n                                <label className=\"label\">Release Date:</label>\r\n                            </div>\r\n                            <div className=\"field-body\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"control\">\r\n                                        <input\r\n                                            className=\"input\"\r\n                                            type=\"date\"\r\n                                            name=\"releaseDate\"\r\n                                            value={formData.releaseDate}\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field is-horizontal\">\r\n                            <div className=\"field-label is-normal\">\r\n                                <label className=\"label\">Upload:</label>\r\n                            </div>\r\n                            <div className=\"field-body\">\r\n                                <div className=\"field is-grouped is-grouped-left\">\r\n                                    <div className=\"file is-info has-name\">\r\n                                        <label className=\"file-label\">\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                className=\"file-input\"\r\n                                                name=\"coverImage\"\r\n                                                onChange={handleImageChange}\r\n                                            />\r\n                                            <span className=\"file-cta\">\r\n                                                <span className=\"file-icon\">\r\n                                                    <FontAwesomeIcon icon={faUpload} />\r\n                                                </span>\r\n                                                <span className=\"file-label\">\r\n                                                    Upload an album cover\r\n                                                </span>\r\n                                            </span>\r\n                                            <span className=\"file-name\">\r\n                                                {formData.coverImageName}\r\n                                            </span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field is-grouped is-grouped-right\">\r\n                                    <div className=\"control\">\r\n                                        <input className=\"button is-link\" type=\"submit\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditAlbum","C:\\Users\\alecv\\Album Reviews Site\\client\\src\\login.js",["46","47"],[],"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\App.js",[],[],"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\globalVars.js",[],[],"C:\\Users\\alecv\\Album Reviews Site\\client\\src\\index.js",[],[],{"ruleId":"48","severity":1,"message":"49","line":17,"column":38,"nodeType":"50","endLine":17,"endColumn":40,"suggestions":"51"},{"ruleId":"52","severity":1,"message":"53","line":23,"column":22,"nodeType":"54","messageId":"55","endLine":23,"endColumn":24},{"ruleId":"48","severity":1,"message":"49","line":46,"column":32,"nodeType":"50","endLine":46,"endColumn":34,"suggestions":"56"},{"ruleId":"48","severity":1,"message":"57","line":65,"column":59,"nodeType":"50","endLine":65,"endColumn":65,"suggestions":"58"},{"ruleId":"52","severity":1,"message":"53","line":106,"column":26,"nodeType":"54","messageId":"55","endLine":106,"endColumn":28},{"ruleId":"52","severity":1,"message":"59","line":106,"column":51,"nodeType":"54","messageId":"55","endLine":106,"endColumn":53},{"ruleId":"48","severity":1,"message":"49","line":17,"column":38,"nodeType":"50","endLine":17,"endColumn":40,"suggestions":"60"},{"ruleId":"48","severity":1,"message":"61","line":50,"column":9,"nodeType":"50","endLine":50,"endColumn":11,"suggestions":"62"},{"ruleId":"63","severity":1,"message":"64","line":54,"column":33,"nodeType":"65","endLine":54,"endColumn":78},{"ruleId":"63","severity":1,"message":"64","line":57,"column":33,"nodeType":"65","endLine":57,"endColumn":74},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'logout' and 'personid'. Either include them or remove the dependency array.","ArrayExpression",["66"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["67"],"React Hook useEffect has a missing dependency: 'getAlbums'. Either include it or remove the dependency array.",["68"],"Expected '!==' and instead saw '!='.",["69"],"React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["70"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement",{"desc":"71","fix":"72"},{"desc":"71","fix":"73"},{"desc":"74","fix":"75"},{"desc":"71","fix":"76"},{"desc":"77","fix":"78"},"Update the dependencies array to be: [logout, personid]",{"range":"79","text":"80"},{"range":"81","text":"80"},"Update the dependencies array to be: [getAlbums, sort]",{"range":"82","text":"83"},{"range":"84","text":"80"},"Update the dependencies array to be: [id]",{"range":"85","text":"86"},[561,563],"[logout, personid]",[1619,1621],[2307,2313],"[getAlbums, sort]",[598,600],[1676,1678],"[id]"]